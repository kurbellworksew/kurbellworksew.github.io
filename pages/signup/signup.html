<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link href="../assets/css/signup_style.css" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<title>Sign Up</title>
	
</head>

<body>
	<div class="navbar" id="myNavBar">
		<img class="logo" alt="Worksew Logo" src="../../assets/images/logo_optimized.png" width="100">
		<div class="floatNav">
			<a href="index.html">Sign In</a>
			<a href="signup.html" class="active">Sign up</a>
			<a href="javascript:void(0);" class="icon" onclick="myFunction()"><i class="fa fa-bars"></i></a>
		</div>
	</div>

	<br>

	<div class="card">
		<div id="formTitle">Take the first step to a new job</div>
		<p id="error"></p>
		<br><br>
		<hr>
		<form id="regForm" method="post" action="" onsubmit="return validateCompleteForm();">

			<div class="tab">
				<div class="formContainer">
					<div class="centerTextFormBox">
						First&nbsp;Name:&nbsp;<br><input type="text" id="userFirstName" class="formBoxDesign" name="userFirstName" placeholder="Required Entry"><span class="asterisk">*</span><br>
						Last&nbsp;Name:&nbsp;<br><input type="text" id="userLastName" class="formBoxDesign" name="userLastName" placeholder="Required Entry"><span class="asterisk">*</span><br>
						Email:<br><input type="text" id="userEmail" class="formBoxDesign" name="userEmail" placeholder="Required Entry"><span class="asterisk">*</span><br>
						Password:<br><input type="password" id="userPassword" class="formBoxDesign" name="userPassword" placeholder="Required Entry"><span class="asterisk">*</span><br>
						Repeat Password:<br><input type="password" id="rep-userPassword" class="formBoxDesign" name="rep-userPassword" placeholder="Required Entry"><span class="asterisk">*</span><br>
						
						<button type="button" class="showPasswordBtnPadding" onclick="showPassword()">Show</button>
						<p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
					</div>
				</div>
			</div>

			<div class="tab">
				<div class="formContainer">
					<div class="centerTextFormBox">
						Birth&nbsp;Date:&nbsp;<br><input type="date" id="birthDate" class="formBoxDesign" name="birthDate" placeholder="Required Entry"><span class="asterisk">*</span><br>

						Gender:&nbsp;<br>
						<select id="userGender" name="userGender" class="formBoxDesign">
							<option value="Male">Male</option>
							<option value="Female">Female</option>
						</select><span class="asterisk">*</span><br>

						Address:<br><input type="text" id="userAddress" class="formBoxDesign" name="userAddress" placeholder="Required Entry"><span class="asterisk">*</span><br>

						School:<br><input type="password" id="userSchool" class="formBoxDesign" name="userSchool" placeholder="Required Entry"><span class="asterisk">*</span><br>

						Goverment ID:<br>
						<form action="upload.php" method="post" enctype="multipart/form-data">
							<input type="file" name="fileToUpload" id="fileToUpload">
							<input type="submit" value="Upload Image" name="submit">
						</form>

						<span class="asterisk">*</span><br>

						<p>By cliking "Process" you agree to let our team request your transcript from your school on your behalf <a href="#">Transcript Acquisition Agreement </a>.</p>
						<button type="submit" class="registerbtn">Process</button>
					</div>
				</div>
			</div>

			<div style="overflow:auto;">
				<div style="float:right;">
					<button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
					<button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
				</div>
			</div>

			<!-- Circles which indicates the steps of the form: -->
			<div style="text-align:center;margin-top:40px;">
				<span class="step"></span>
				<span class="step"></span>
			</div>
		</form>
	</div>



</body>
	<script>
		var currentTab = 0; // Current tab is set to be the first tab (0)
		showTab(currentTab); // Display the current tab

		function showTab(n) {
			// This function will display the specified tab of the form ...
			var x = document.getElementsByClassName("tab")[n];
			x.style.display = "block";
			// ... and fix the Previous/Next buttons:
			if (n == 0) {
				document.getElementById("prevBtn").style.display = "none";
			} else {
				document.getElementById("prevBtn").style.display = "inline";
			}
			switchFormTitle(n);
			if (n == (document.getElementsByClassName("tab").length - 1)) {
				document.getElementById("nextBtn").innerHTML = "Submit";
				document.getElementById("nextBtn").style.display = "none";
			} else {
				document.getElementById("nextBtn").innerHTML = "Next";
				document.getElementById("nextBtn").style.display = "inline";
			}
			// ... and run a function that displays the correct step indicator:
			fixStepIndicator(n);
		}
		
		function switchFormTitle(n) {
			var fullUserName ="Hi, " + document.getElementById("userFirstName").value + " " + document.getElementById("userLastName").value;
			var defaultValue = "Take the first step to a new job";
			if(n > 0){
				document.getElementById("formTitle").innerHTML = fullUserName;
			}
		}

		function nextPrev(n) {
			// This function will figure out which tab to display
			var x = document.getElementsByClassName("tab");
			// Exit the function if any field in the current tab is invalid:
			if (n == 1 && !validateForm()) return false;
			// Hide the current tab:
			x[currentTab].style.display = "none";
			// Increase or decrease the current tab by 1:
			currentTab = currentTab + n;
			// if you have reached the end of the form... :
			if (currentTab >= x.length) {
				//...the form gets submitted:
				document.getElementById("regForm").submit();
				return false;
			}
			// Otherwise, display the correct tab:
			showTab(currentTab);
		}

		function fixStepIndicator(n) {
			// This function removes the "active" class of all steps...
			var i, x = document.getElementsByClassName("step");
			for (i = 0; i < x.length; i++) {
				x[i].className = x[i].className.replace(" active", "");
			}
			//... and adds the "active" class to the current step:
			x[n].className += " active";
		}

		function showPassword() {
			"use strict"
			if (document.getElementById('userPassword').type == 'text') {
				document.getElementById('userPassword').type = 'password';
				document.getElementById('rep-userPassword').type = 'password';
			} else {
				document.getElementById('userPassword').type = 'text';
				document.getElementById('rep-userPassword').type = 'text';
			}

		}

		function checkPassowrdMatch() {
			"use strict"

			var isvalid = true;

			if (document.getElementById("rep-userPassword").value != document.getElementById("userPassword").value) {
				document.getElementById("userPassword").style.borderColor = "red";
				document.getElementById("userPassword").style.backgroundColor = 'pink';
				document.getElementById("rep-userPassword").style.borderColor = "red";
				document.getElementById("rep-userPassword").style.backgroundColor = 'pink';
				document.getElementById("error").style.display = "block"
				document.getElementById("error").innerHTML = "Passwords do not match";
				isvalid = false;
			} else {
				document.getElementById("userPassword").style = null;
				document.getElementById("rep-userPassword").style = null;
			}
			return isvalid;
		}
		
		function validateDate() {
			"use strict";
			
			var isvalid = true;

			if (document.getElementById("travelDate").value == '') {
				document.getElementById("travelDate").style.borderColor = "red";
				document.getElementById("travelDate").style.backgroundColor = 'pink';
				isvalid = false;
				return isvalid;
			} else {
				document.getElementById("travelDate").style = null;
			}
			
			var userDate = document.getElementById('travelDate').value;
			var today = new Date();
			var dd = today.getDate();
			var mm = today.getMonth() + 1;
			var yyyy = today.getFullYear();


			if (dd < 10) {
				dd = '0' + dd;
			}

			if (mm < 10) {
				mm = '0' + mm;
			}

			var todayDate = "" + yyyy + "-" + mm + "-" + dd;

			if (userDate >= todayDate) {
				console.log("not working");
				document.getElementById('travelDate').style.borderColor = "red";
				document.getElementById('travelDate').style.backgroundColor = 'pink';
				isvalid = false;
			} else {
				console.log("working");
				isvalid = true;
			}
			return isvalid;
		}

		function validateForm() {
			"use strict"

			var isvalid = true;

			if (document.getElementById("userFirstName").value == '') {
				document.getElementById("userFirstName").style.borderColor = "red";
				document.getElementById("userFirstName").style.backgroundColor = 'pink';
				isvalid = false;
			} else {
				document.getElementById("userFirstName").style = null;
			}
			if (document.getElementById("userLastName").value == '') {
				document.getElementById("userLastName").style.borderColor = "red";
				document.getElementById("userLastName").style.backgroundColor = 'pink';
				isvalid = false;
			} else {
				document.getElementById("userLastName").style = null;
			}
			if (document.getElementById("userEmail").value == '') {
				document.getElementById("userEmail").style.borderColor = "red";
				document.getElementById("userEmail").style.backgroundColor = 'pink';
				isvalid = false;
			} else {
				document.getElementById("userEmail").style = null;
			}
			if (document.getElementById("userPassword").value == '') {
				document.getElementById("userPassword").style.borderColor = "red";
				document.getElementById("userPassword").style.backgroundColor = 'pink';
				isvalid = false;
			} else {
				document.getElementById("userPassword").style = null;
			}
			

			return (isvalid && checkPassowrdMatch());
		}
		
		function validateCompleteForm() {
			console.log("everything works!")
			return (validateDate() && validateForm());
		}

	
		function myFunction() {
			var x = document.getElementById("myNavBar");
			if (x.className === "navbar") {
				x.className += " responsive";
			} else {
				x.className = "navbar";
			}
		}
	</script>


</html>
